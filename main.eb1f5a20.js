parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var t=document.querySelector(".button"),e="Restart",r=document.querySelector(".message-start"),n=document.querySelector(".message-win"),o=document.querySelector(".message-lose"),a=document.querySelector(".game-score"),s=document.querySelectorAll(".field-row"),c={UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",LEFT:"ArrowLeft"},f=2048,i=4,l=4,u=[],d=0,h=!1,v=!1,g=!1;function m(){for(var t=0;t<i;t++)for(var e=0;e<l;e++){if(0===u[t][e])return!1;var r=u[t][e+1];if(void 0!==r&&u[t][e]===r)return!1}for(var n=0;n<l;n++)for(var o=0;o<i-1;o++){var a=u[o+1][n];if(void 0!==a&&u[o][n]===a)return!1}return!0}function L(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)if(t[r][n]!==e[r][n])return!1;return!0}function p(t){u=t,k(),q()}function w(t){return t.filter(function(t){return 0!==t})}function y(t,e,r){for(var n=[],o=0;o<e;o++){for(var a=[],s=0;s<r;s++)a.push(t[s][o]);n.push(a)}return n}function E(){v=!0,g=!1,n.classList.remove("hidden")}function k(){for(var t=!0,e=Math.random()<.9?2:4;t;){var r=Math.floor(Math.random()*i),n=Math.floor(Math.random()*l);0===u[r][n]&&(u[r][n]=e,t=!1)}m()&&(h=!0,g=!1,o.classList.remove("hidden"))}function q(){for(var t=0;t<u.length;t++)for(var e=0;e<u[t].length;e++){var r=s[t].children[e],n=u[t][e];n?(r.textContent=n,r.className="field-cell",r.classList.add("field-cell--".concat(n)),n===f&&E()):(r.textContent="",r.className="field-cell"),a.textContent=d}}function x(){r.classList.add("hidden"),o.classList.add("hidden"),n.classList.add("hidden"),a.textContent=0,g=!0,h=!1,v=!1,d=0,u=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];for(var t=0;t<u.length;t++)for(var e=0;e<u[t].length;e++){var c=s[t].children[e];c.textContent="",c.className="field-cell"}k(),k(),q()}function C(){var t=y(u,l,i),e=[];t.forEach(function(t){for(var r=w(t),n=0;n<r.length;n++)r[n]===r[n+1]&&(r[n]*=2,d+=r[n],r[n+1]=0);for(r=w(r);r.length<i;)r.push(0);e.push(r)}),L(u,y(e,l,i))||p(y(e,l,i))}function S(){var t=[];u.forEach(function(e){for(var r=w(e),n=r.length-1;n>=0;n--)r[n]===r[n-1]&&(r[n]*=2,d+=r[n],r[n-1]=0);for(r=w(r);r.length<i;)r.unshift(0);t.push(r)}),L(u,t)||p(t)}function b(){var t=y(u,l,i),e=[];t.forEach(function(t){for(var r=w(t),n=r.length-1;n>=0;n--)r[n]===r[n-1]&&(r[n]*=2,d+=r[n],r[n-1]=0);for(r=w(r);r.length<i;)r.unshift(0);e.push(r)}),L(u,y(e,l,i))||p(y(e,l,i))}function A(){var t=[];u.forEach(function(e){for(var r=w(e),n=0;n<r.length;n++)r[n]===r[n+1]&&(r[n]*=2,d+=r[n],r[n+1]=0);for(r=w(r);r.length<i;)r.push(0);t.push(r)}),L(u,t)||p(t)}document.addEventListener("keydown",function(t){if(t.preventDefault(),g&&!h&&!v)switch(t.key){case c.UP:C();break;case c.DOWN:b();break;case c.RIGHT:S();break;case c.LEFT:A();break;default:return}}),t.addEventListener("click",function(){t.classList.contains("start")&&(t.textContent=e,t.classList.add("restart"),t.classList.remove("start"),r.classList.add("hidden")),x()});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.eb1f5a20.js.map